(this["webpackJsonppizza-task"]=this["webpackJsonppizza-task"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,a){},,,,,,,,function(e,t,a){e.exports=a(48)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),c=a.n(l),i=(a(27),a(3));a(28),a(29),a(14),a(30);function o(e){var t=e.openLogin;return r.a.createElement("button",{type:"button",className:"login-btn",onClick:t},r.a.createElement("span",{className:"material-icons"},"person"))}a(31);function m(e){var t=e.children,a=e.onclose;document.body.style.overflow="hidden";var n=document.getElementById("modal-root"),l=r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal-body"},t,r.a.createElement("button",{type:"button",className:"modal__close-btn",onClick:function(){a(),document.body.style.overflow="auto"}},"\xd7")));return c.a.createPortal(l,n)}var u=a(11),s=(a(32),a(15)),d=a.n(s),p=a(20);function f(e){return E.apply(this,arguments)}function E(){return(E=Object(p.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.exchangeratesapi.io/latest",e.next=3,fetch("https://api.exchangeratesapi.io/latest");case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,r=Math.round(t*n.rates.USD*100)/100,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){var t,a=e.order,l=new Date(a.time).toLocaleString("ru-RU"),c=5,o=Object(u.a)(a.order);try{for(o.s();!(t=o.n()).done;){var m=t.value;c+=m.price*m.quantity}}catch(b){o.e(b)}finally{o.f()}c=Math.round(100*c)/100;var s=Object(n.useState)(" $"),d=Object(i.a)(s,2),p=d[0],E=d[1];return f(c).then((function(e){return E(e+" $")})),r.a.createElement("div",{className:"history-item"},r.a.createElement("h3",null,l),r.a.createElement("ul",null,a.order.map((function(e,t){return r.a.createElement("li",{key:t,className:"history-item__li"},e.name," ",e.price," \u20ac (",e.quantity," pcs)")}))),r.a.createElement("h4",{className:"history-item__total"},"Total: ",c," \u20ac ",r.a.createElement("span",{className:"history-item__total-usd"},"/ ",p)))}function h(e){var t=e.userHistory,a=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"History"),a,r.a.createElement("div",{className:"history"},t.map((function(e,t){return r.a.createElement(b,{key:t,order:e})}))))}function g(e){var t=e.onclick,a=e.children;return r.a.createElement("button",{type:"button",className:"regular-btn",onClick:t},a)}function _(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),u=Object(i.a)(c,2),s=u[0],d=u[1],p=Object(n.useState)(""),f=Object(i.a)(p,2),E=f[0],b=f[1],_=Object(n.useState)([]),v=Object(i.a)(_,2),y=v[0],N=v[1];function O(e){var t=JSON.parse(localStorage.getItem("userOrders")).filter((function(t){return t.email===e}));if(!!t.length){d(!0);var a=[];t.map((function(e){return a.push({order:e.order,time:e.time})})),N(a)}else alert("Cannot find this Email. Make an order to register.")}return r.a.createElement(r.a.Fragment,null,r.a.createElement(o,{openLogin:function(){s&&O(E),l(!0)}.bind(null)}),a&&r.a.createElement(m,{onclose:function(){return l(!1)}.bind(null)},s?r.a.createElement(h,{userHistory:y},r.a.createElement("p",null,"You logged in as ",r.a.createElement("strong",null,E)),r.a.createElement(g,{onclick:function(){d(!1),b("")}.bind(null)},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),O(E)}.bind(null)},r.a.createElement("label",{className:"login__email"},"Email",r.a.createElement("input",{type:"email",name:"email",className:"login__input",onChange:function(e){var t=e.target.value;b(t)}.bind(null),required:!0})),r.a.createElement("button",{type:"submit",className:"regular-btn"},"Login")))))}a(34),a(35);function v(e){var t,a=e.quantity,n=e.openCart;return a&&(t=r.a.createElement("span",{className:"cart-btn__quantity"},a)),r.a.createElement("button",{type:"button",className:"cart-btn",onClick:n.bind(null)},r.a.createElement("span",{className:"material-icons"},"shopping_cart"),t)}var y=r.a.createContext();a(36),a(37);function N(e){var t=e.item,a=e.deleteItem;return r.a.createElement("button",{type:"button",className:"delete-btn",onClick:a.bind(null,t)},"\xd7")}a(38);function O(e){var t=e.item,a=Object(n.useContext)(y),l=a.cart,c=a.setCart,i=l.filter((function(e){return e.id===t.id}))[0].quantity;function o(e){c(l.map((function(a){return a.id===t.id&&(a.quantity+=e),a}))),c(l.filter((function(e){return e.quantity>0})))}return r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"calculator__btn",onClick:o.bind(null,-1)},"-"),r.a.createElement("span",{className:"calculator__quantity"},r.a.createElement("strong",null,i)),r.a.createElement("button",{type:"button",className:"calculator__btn",onClick:o.bind(null,1)},"+"))}function j(e){var t=e.item,a=Object(n.useContext)(y),l=a.cart,c=a.setCart,i="/photos/"+t.id.toString()+".jpg",o=Math.round(t.price*t.quantity*100)/100+" \u20ac";return r.a.createElement("div",{className:"cart-item"},r.a.createElement("div",{className:"cart-item__block"},r.a.createElement("img",{src:i,className:"cart-item__img",alt:t.name}),r.a.createElement("div",{className:"cart-item__label"},r.a.createElement("h3",{className:"cart-item__name"},t.name),r.a.createElement("span",{className:"cart-item__price"},t.price+" \u20ac"))),r.a.createElement("div",{className:"cart-item__block"},r.a.createElement("h3",{className:"cart-item__total-price"},o),r.a.createElement(O,{item:t}),r.a.createElement(N,{item:t,deleteItem:function(e){c(l.filter((function(t){return t.id!==e.id})))}})))}var C=a(8);function S(){return r.a.createElement(C.b,{to:"/order"},r.a.createElement(g,null,"Order now"))}var k=a(1);a(44);function w(){var e,t,a,l,c=Object(n.useContext)(y),o=c.cart,m=c.setCart,u=localStorage.getItem("userOrders")?JSON.parse(localStorage.getItem("userOrders")):[],s=u.length?Object.assign({},u[u.length-1]):{order:null},d=Object(n.useState)(s),p=Object(i.a)(d,2),f=p[0],E=p[1],b=Object(n.useState)(!1),h=Object(i.a)(b,2),_=h[0],v=h[1];s.name&&(e=s.name,t=s.surname,a=s.email,l=s.adress);var N=r.a.createElement("form",{className:"order__form",onSubmit:function(e){if(o.length){var t=f;t.order=o,t.time=Date.now(),u.push(t),localStorage.setItem("userOrders",JSON.stringify(u)),v(!0),m([])}else alert("Your cart is empty")}.bind(null)},r.a.createElement("h2",null,"Contact information"),r.a.createElement("div",{className:"order__input-grid"},r.a.createElement("label",{className:"order__field"},"Name*",r.a.createElement("input",{type:"text",name:"name",className:"order__input",onChange:j.bind(null),defaultValue:e,required:!0})),r.a.createElement("label",{className:"order__field"},"Surname*",r.a.createElement("input",{type:"text",name:"surname",className:"order__input",onChange:j.bind(null),defaultValue:t,required:!0})),r.a.createElement("label",{className:"order__field"},"Email*",r.a.createElement("input",{type:"email",name:"email",className:"order__input",onChange:j.bind(null),defaultValue:a,required:!0})),r.a.createElement("label",{className:"order__field"},"Adress*",r.a.createElement("input",{type:"text",name:"adress",className:"order__input",onChange:j.bind(null),defaultValue:l,required:!0}))),r.a.createElement("div",{className:"order__btn-block"},r.a.createElement(C.b,{to:"/"},r.a.createElement(g,null,"back to cart")),r.a.createElement("button",{type:"submit",className:"regular-btn"},"Order"))),O=r.a.createElement("h2",null,"Your order has been placed.");function j(e){var t=e.target,a=t.value,n=t.name,r=f;r[n]=a,E(r)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Order"),_?O:N)}a(45);function z(){var e=Object(n.useContext)(y).cart,t=Object(n.useState)("$"),a=Object(i.a)(t,2),l=a[0],c=a[1],o=function(e,t){var a,n=t,r=Object(u.a)(e);try{for(r.s();!(a=r.n()).done;){var l=a.value;n+=l.quantity*l.price}}catch(c){r.e(c)}finally{r.f()}return Math.round(100*n)/100}(e,5),m=o.toString()+" \u20ac",s=Math.round(1.13*o*100)/100+" $";return f(o).then((function(e){return c(e+" $")}),(function(e){return c(s)})),r.a.createElement("div",{className:"cart-total"},r.a.createElement("p",{className:"cart-total__delivery"},"+ 5 \u20ac delivery cost"),r.a.createElement("div",{className:"cart-total__main"},r.a.createElement("h3",{className:"cart-total__label"},"Total:"),r.a.createElement("div",{className:"cart-total__price"},r.a.createElement("h3",{className:"cart-total__eur"},m),r.a.createElement("h3",{className:"cart-total__usd"},l))))}function q(){var e=r.a.useState(!1),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(n.useContext)(y).cart,o=c.reduce((function(e,t){return{quantity:e.quantity+t.quantity}}),{quantity:0}).quantity,u=r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"The cart is empty")),s=r.a.createElement(r.a.Fragment,null,c.map((function(e,t){return r.a.createElement(j,{item:e,key:t})})),r.a.createElement(z,null),r.a.createElement(S,null));return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{quantity:o,openCart:function(){return l(!0)}}),a&&r.a.createElement(m,{onclose:function(){return l(!1)}.bind(null)},r.a.createElement(C.a,null,r.a.createElement(k.a,{to:"/"}),r.a.createElement(k.d,null,r.a.createElement(k.b,{path:"/order"},r.a.createElement(w,null)),r.a.createElement(k.b,{path:"/"},r.a.createElement("h2",null,"Cart"),c.length?s:u)))))}function x(){return r.a.createElement("div",{className:"menu"},r.a.createElement("img",{src:"logo.png",alt:"logo"}),r.a.createElement(_,null),r.a.createElement(q,null))}a(46);function M(e){var t=e.item,a=Object(n.useContext)(y),l=a.cart,c=a.setCart;return r.a.createElement(g,{onclick:function(e){if(l.filter((function(t){return t.id===e.id})).length)c(l.map((function(t){return t.id===e.id&&t.quantity++,t})));else{var t=e;t.quantity=1,c(l.concat(t))}}.bind(null,t)},"Add to cart")}function I(e){var t=e.item,a="/photos/"+t.id.toString()+".jpg",l=!!Object(n.useContext)(y).cart.filter((function(e){return e.id===t.id})).length;return r.a.createElement("div",{className:"item-card"},r.a.createElement("div",null,r.a.createElement("img",{src:a,className:"item-card__img",alt:t.name}),r.a.createElement("div",{className:"item-card__info"},r.a.createElement("h3",null,t.name),r.a.createElement("p",null,t.description))),r.a.createElement("div",{className:"item-card__footer"},r.a.createElement(M,{item:t}),l&&r.a.createElement(O,{item:t}),r.a.createElement("span",{className:"item-card__price"},t.price+" \u20ac")))}var F=[{id:1,name:"Italian with mozzarella and pepperoni",description:"Traditional Italian recipe with two types of cheese: grated Mozzarella and classic chillegini; spicy pepperoni, mushrooms and blend of seasonings",price:10.25},{id:2,name:"Chicken blue cheese",description:"Perfect combination: tender chicken fillet with blue cheese crumbles, Parmeggiano sauce, mix of Italian cheeses and Mozzarella cheese",price:15.75},{id:3,name:"9 Cheeses",description:"New taste! Blend of cheeses: Mozzarella, soft cheese, blue cheese, smoked Italian cheeses, Reggianito, Cheddar with sauce cheesy Parmigiano and oregano",price:12.95},{id:4,name:"Pepperoni",description:"American classic with spicy pepperoni, Mozzarella and signature tomato sauce",price:11.35},{id:5,name:"Margherita",description:"Traditional recipe with signature tomato sauce, Mozzarella, oregano and juicy tomatoes",price:9.99},{id:6,name:"Mexican",description:"Spicy pizza with chicken fillet, tomato sauce, Mozzarella, mushrooms, onions, tomatoes, sweet green pepper and jalapeno pepper",price:10.65},{id:7,name:"Hawaiian",description:"Tropical classic with flavorful ham, tomato sauce and Mozzarella combined with pineapple bits",price:13.75},{id:8,name:"Ham and mushrooms",description:"Delicate pizza with Garlic ranch sauce, Mozzarella, mushrooms, flavorful ham and garlic",price:12.05}];a(47);function J(){return r.a.createElement("div",{className:"item-list"},F.map((function(e){return r.a.createElement(I,{item:e,key:e.id})})))}var L=function(){var e=JSON.parse(localStorage.getItem("cart")),t=r.a.useState(e||[]),a=Object(i.a)(t,2),l=a[0],c=a[1];return Object(n.useEffect)((function(){localStorage.setItem("cart",JSON.stringify(l))})),r.a.createElement(y.Provider,{value:{cart:l,setCart:c}},r.a.createElement("div",{className:"wrapper"},r.a.createElement(x,null),r.a.createElement(J,null)),r.a.createElement("div",{id:"modal-root"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[22,1,2]]]);
//# sourceMappingURL=main.668dc413.chunk.js.map